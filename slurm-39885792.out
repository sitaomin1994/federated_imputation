Executing command: python main_experiment_amarel.py config_vars/imp_extention2=vehicle_exp11.yaml
2024-11-18 15:27:02.637 | INFO     | src.experiment_management.experiment_manager:set_experiment:22 - Experiment name: fed_imp
2024-11-18 15:27:02.641 | INFO     | src.experiment_management.experiment_manager:run_experiments:45 - Running 1 experiments
2024-11-18 15:27:02.641 | INFO     | src.experiment_management.experiment_manager:run_experiments:51 - Experiment - 0
2024-11-18 15:27:02.641 | INFO     | src.experiment_management.experiment_manager:run_experiments:52 - Experiment - ['dn', 'nc', 'dp', 'ms', 'mct', 'st', 'as', 's', 's', 'p', 'nr', 'n', 'ts']
2024-11-18 15:27:02.641 | INFO     | src.experiment_management.experiment_manager:run_experiments:53 - Experiment - ('vehicle', 0, 'natural', 'random2@mrl=0.3_mrr=0.7_mm=mnarlrq', 'allk0.25_sphere', 'fedavg_pytorch', 'local', 102931466, 50, False, 10, 10, 0.1)
config_tmpl:
  num_clients: 10
  data:
    dataset_name: breast
    normalize: true
  data_partition:
    strategy: full
    params: {}
  handle_imbalance: null
  missing_simulate:
    mf_strategy: all
    mm_strategy: none
    mm_strategy_params:
      corr_type: others
  imputation:
    initial_strategy_num: mean
    initial_strategy_cat: mode
    estimator_num: ridge_cv
    estimator_cat: logistic_cv
    imp_evaluation_model: logistic
    imp_evaluation_params:
      tune_params: gridsearch
    clip: true
  agg_strategy_imp:
    strategy: local
    params:
      ms_field: missing_cell_pct
      beta: 0.7
  client_type: ice
  server_type: fedavg_pytorch
  server:
    impute_mode: instant
    imp_round: 20
    imp_local_epochs: 0
    pred_round: 0
    pred_local_epochs: 0
    model_fit_mode: one_shot
    froze_ms_coefs_round: 100
  pred_model:
    model_params:
      model: 2nn
      num_hiddens: 32
      model_init_config: null
      model_other_params: null
    train_params:
      batch_size: 128
      learning_rate: 0.001
      weight_decay: 0.0001
      pred_round: 200
      pred_local_epochs: 3
  experiment:
    n_rounds: 5
    seed: 102931466
    mtp: true
    random_seed: 50
    num_process: 5
    test_size: 0.1
  track: false
  tune_params: false
  prediction: false
  save_state: true
  algo_params:
    central: {}
    central2: {}
    central_vae: {}
    central_gain: {}
    local: {}
    local_vae: {}
    local_gain: {}
    fedavg: {}
    fedavg_vae: {}
    fedavg_gain: {}
    fedwavg:
      alpha: 0.9
    fedmechw:
      client_thres: 1.0
      alpha: 1.0
      beta: 0.0,
      scale_factor: 4
    fedmechw_p:
      client_thres: 1.0
      alpha: 0.85
      beta: 0.1
      scale_factor: 4
    fedmechw_new:
      client_thres: 1.0
      alpha: 0.95
      gamma: 0.02
      scale_factor: 4
    fedmechw_dedup:
      client_thres: 1.0
      alpha: 0.95
      gamma: 0.02
      scale_factor: 4
    fedmechw_p_sigmoid:
      client_thres: 1.0
      alpha: 0.9
      beta: 0.1
      scale_factor: 3
    fedmechclw:
      client_thres: 1.0
      thres1: 0.2
      alpha: 0.8
    scale_factor: 6
config_vars:
  vehicle_exp11:
  - name: dataset_name
    value:
    - vehicle
    keys:
    - data
    - dataset_name
    save_mode: dir1
  - name: n_client
    value:
    - 0
    save_mode: dir2
    keys:
    - num_clients
  - name: data_partition
    value:
    - natural
    save_mode: dir3
    keys:
    - data_partition
    - strategy
  - name: mm_strategy
    value:
    - random2@mrl=0.3_mrr=0.7_mm=mnarlrq
    save_mode: dir4
    keys:
    - missing_simulate
    - mm_strategy_new
  - name: mm_corr_type
    value:
    - allk0.25_sphere
    save_mode: dir4
    keys:
    - missing_simulate
    - mm_strategy_params
    - corr_type
  - name: server_type
    value:
    - fedavg_pytorch
    save_mode: none
    keys:
    - server_type
  - name: agg_strategy
    value:
    - local
    save_mode: null
    keys:
    - agg_strategy_imp
    - strategy
  - name: seed
    value:
    - 102931466
    save_mode: null
    keys:
    - experiment
    - seed
  - name: seed2
    value:
    - 50
    save_mode: null
    keys:
    - experiment
    - random_seed
  - name: params
    value:
    - false
    save_mode: null
    keys:
    - tune_params
  - name: n_rounds
    value:
    - 10
    save_mode: none
    keys:
    - experiment
    - n_rounds
  - name: np
    value:
    - 10
    save_mode: none
    keys:
    - experiment
    - num_process
  - name: test_size
    value:
    - 0.1
    save_mode: none
    keys:
    - experiment
    - test_size
experiment_name: fed_imp_ext2_amarel
debug: false
experiment_marker:
- num_clients
- server@imp_round

========================================================================================================================================================================================================
{'num_clients': 0, 'data': {'dataset_name': 'vehicle', 'normalize': True}, 'data_partition': {'strategy': 'natural', 'params': {}}, 'handle_imbalance': None, 'missing_simulate': {'mf_strategy': 'all', 'mm_strategy': 'none', 'mm_strategy_params': {'corr_type': 'allk0.25_sphere'}, 'mm_strategy_new': 'random2@mrl=0.3_mrr=0.7_mm=mnarlrq'}, 'imputation': {'initial_strategy_num': 'mean', 'initial_strategy_cat': 'mode', 'estimator_num': 'ridge_cv', 'estimator_cat': 'logistic_cv', 'imp_evaluation_model': 'logistic', 'imp_evaluation_params': {'tune_params': 'gridsearch'}, 'clip': True}, 'agg_strategy_imp': {'strategy': 'local', 'params': {'ms_field': 'missing_cell_pct', 'beta': 0.7}}, 'client_type': 'ice', 'server_type': 'fedavg_pytorch', 'server': {'impute_mode': 'instant', 'imp_round': 20, 'imp_local_epochs': 0, 'pred_round': 0, 'pred_local_epochs': 0, 'model_fit_mode': 'one_shot', 'froze_ms_coefs_round': 100}, 'pred_model': {'model_params': {'model': '2nn', 'num_hiddens': 32, 'model_init_config': None, 'model_other_params': None}, 'train_params': {'batch_size': 128, 'learning_rate': 0.001, 'weight_decay': 0.0001, 'pred_round': 200, 'pred_local_epochs': 3}}, 'experiment': {'n_rounds': 10, 'seed': 102931466, 'mtp': True, 'random_seed': 50, 'num_process': 10, 'test_size': 0.1}, 'track': False, 'tune_params': False, 'prediction': False, 'save_state': True, 'algo_params': {'central': {}, 'central2': {}, 'central_vae': {}, 'central_gain': {}, 'local': {}, 'local_vae': {}, 'local_gain': {}, 'fedavg': {}, 'fedavg_vae': {}, 'fedavg_gain': {}, 'fedwavg': {'alpha': 0.9}, 'fedmechw': {'client_thres': 1.0, 'alpha': 1.0, 'beta': '0.0,', 'scale_factor': 4}, 'fedmechw_p': {'client_thres': 1.0, 'alpha': 0.85, 'beta': 0.1, 'scale_factor': 4}, 'fedmechw_new': {'client_thres': 1.0, 'alpha': 0.95, 'gamma': 0.02, 'scale_factor': 4}, 'fedmechw_dedup': {'client_thres': 1.0, 'alpha': 0.95, 'gamma': 0.02, 'scale_factor': 4}, 'fedmechw_p_sigmoid': {'client_thres': 1.0, 'alpha': 0.9, 'beta': 0.1, 'scale_factor': 3}, 'fedmechclw': {'client_thres': 1.0, 'thres1': 0.2, 'alpha': 0.8}, 'scale_factor': 6}}
[(2578, 24), (1511, 24), (1519, 24), (1425, 24), (1375, 24), (1164, 24), (1683, 24), (1735, 24), (2000, 24), (1701, 24), (1803, 24), (1803, 24), (1954, 24), (2200, 24), (2214, 24), (1914, 24), (2068, 24), (1962, 24), (2287, 24), (2002, 24), (2068, 24), (2448, 24), (2281, 24)]
(2320, 24)
(1359, 24)
(1367, 24)
(1282, 24)
(1237, 24)
(1047, 24)
(1514, 24)
(1561, 24)
(1800, 24)
(1530, 24)
(1622, 24)
(1622, 24)
(1758, 24)
(1980, 24)
(1992, 24)
(1722, 24)
(1861, 24)
(1765, 24)
(2058, 24)
(1801, 24)
(1861, 24)
(2203, 24)
(2052, 24)
2024-11-18 15:27:03.853 | INFO     | src.fed_imp.experiment:main_func:31 - Round 0
2024-11-18 15:27:03.885 | INFO     | src.fed_imp.experiment:main_func:31 - Round 1
2024-11-18 15:27:03.919 | INFO     | src.fed_imp.experiment:main_func:31 - Round 2
2024-11-18 15:27:03.952 | INFO     | src.fed_imp.experiment:main_func:31 - Round 3
2024-11-18 15:27:03.985 | INFO     | src.fed_imp.experiment:main_func:31 - Round 4
2024-11-18 15:27:04.019 | INFO     | src.fed_imp.experiment:main_func:31 - Round 5
2024-11-18 15:27:04.053 | INFO     | src.fed_imp.experiment:main_func:31 - Round 6
2024-11-18 15:27:04.088 | INFO     | src.fed_imp.experiment:main_func:31 - Round 7
2024-11-18 15:27:04.120 | INFO     | src.fed_imp.experiment:main_func:31 - Round 8
2024-11-18 15:27:04.143 | INFO     | src.fed_imp.experiment:main_func:31 - Round 9
2024-11-18 15:27:53.892 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:27:53.893 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:27:54.070 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:27:54.070 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:27:55.301 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:27:55.301 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:27:58.744 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:27:58.744 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:28:00.744 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:28:00.745 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:28:00.766 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:28:00.766 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:28:01.581 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:28:01.581 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:28:02.532 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:28:02.533 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:28:04.490 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:28:04.490 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:28:09.352 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:28:09.369 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 1
2024-11-18 15:30:14.164 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:30:14.164 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:30:35.900 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:30:35.901 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:30:41.473 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:30:41.474 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:30:48.383 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:30:48.383 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:30:51.864 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:30:51.865 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:31:03.941 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:31:03.941 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:31:04.800 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:31:04.800 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:31:19.214 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:31:19.218 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:31:35.461 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:31:35.461 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:31:35.613 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:31:35.614 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 2
2024-11-18 15:32:28.194 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:32:28.194 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:33:05.242 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:33:05.242 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:33:35.285 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:33:35.285 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:33:53.286 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:33:53.286 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:34:00.400 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:34:00.411 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:34:04.576 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:34:04.576 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:34:08.844 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:34:08.844 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:34:10.774 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:34:10.774 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:34:14.859 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:34:14.860 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:34:19.415 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:34:19.415 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 3
2024-11-18 15:34:45.832 | INFO     | src.fed_imp.sub_modules.server.base_server:run:153 - ==================================================
2024-11-18 15:34:45.832 | INFO     | src.fed_imp.sub_modules.server.base_server:run:154 - Imputation Round 4
